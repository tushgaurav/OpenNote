<!DOCTYPE html>
<html lang="en">
  <head>
    <title>OpenNotes</title>
    <link rel="stylesheet" href="style/base.css" />
  </head>
  <body>
    <div class="branding">OpenNote</div>
    <section class="note-display">
      <div class="note">
        <h3 class="note-title">Sample Title</h3>
        <p class="note-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse magnam
          numquam saepe unde asperiores. Ratione architecto quod hic,
          repellendus eveniet iure blanditiis. Incidunt esse minima sapiente
          nobis nihil fugiat repellendus necessitatibus dignissimos cupiditate
          quae!
        </p>
        <div class="buttons">
          <a href="#">
            <img
              class="button"
              src="static/buttons/see_icon.png"
              alt="see this note"
            />
            <img
              class="button"
              src="static/buttons/delete_icon.png"
              alt="delete this note"
            />
          </a>
        </div>
      </div>
    </section>

    <script>
      const electron = require("electron");
      const { ipcRenderer } = electron;
      const section = document.querySelector("note-display");

      ipcRenderer.on("title:add", function (e, title) {
        const div = document.createElement("div");
        const h3 = document.createElement("h3");

        div.className = "note";
        h3.className = "note_title";

        const noteTitle = document.createTextNode(title);
        h3.appendChild(noteTitle);
        div.appendChild(h3);
        section.appendChild(div);
      });

      ipcRenderer.on("note:clear", function () {
        section.innerHTML = "";
      });

      section.addEventListener("dblclick", removeNote);

      function removeNote(e) {
        event.target.remove();
      }
    </script>
  </body>
</html>
